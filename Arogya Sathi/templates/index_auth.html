{% extends "base_login.html" %} {% block head %}
<title>Arogya Sathi</title>
{% endblock head %} {% block hero %}

<section id="hero" class="hero d-flex align-items-center">
  <div class="container">
    <div class="row">
      <div class="col-lg-6 d-flex flex-column justify-content-center">
        <h1 data-aos="fade-up">What is Arogya Sathi?</h1>
        <h2 data-aos="fade-up" data-aos-delay="400" style="text-align: justify">
          <b style="color: #012970;">Arogya Sathi</b> is a platform that allows you to identify healthcare
          specialists, anticipate ailments, and find hospitals near you based on
          symptoms. It also includes a BMI calculator and a healthy diet.
        </h2>
        <div data-aos="fade-up" data-aos-delay="600">
          <div class="text-center text-lg-start">
            <a
              href="#about"
              class="btn-get-started scrollto d-inline-flex align-items-center justify-content-center align-self-center"
            >
              <span>Get Started</span>
              <i class="bi bi-arrow-right"></i>
            </a>
          </div>
        </div>
      </div>
      <div class="col-lg-6 hero-img" data-aos="zoom-out" data-aos-delay="200">
        <img
          src="{{ url_for('static',filename='custom/hero-main.jpg') }}"
          class="img-fluid"
          alt=""
        />
      </div>
    </div>
  </div>
</section>

{% endblock hero %} {% block main %}

<!-- ======= About Section ======= -->
<section id="about" class="about">
  <div class="container" data-aos="fade-up">
    <div class="row gx-0">
      <div
        class="col-lg-6 d-flex flex-column justify-content-center"
        data-aos="fade-up"
        data-aos-delay="200"
      >
        <div class="content">
          <h3>BMI</h3>
          <h2>
            The body mass index (BMI) is that the metric currently in use for
            outlining anthropometric height and weight characteristics in adults
            and for classifying them into groups.
          </h2>
          <div class="text-center text-lg-start">
            <a
              href="bmi"
              class="btn-read-more d-inline-flex align-items-center justify-content-center align-self-center"
            >
              <span>Check BMI</span>
              <i class="bi bi-arrow-right"></i>
            </a>
          </div>
        </div>
      </div>

      <div
        class="col-lg-6 d-flex align-items-center"
        data-aos="zoom-out"
        data-aos-delay="200"
      >
        <img
          src="{{ url_for('static',filename='custom/about.png') }}"
          class="img-fluid"
          alt=""
        />
      </div>
    </div>
  </div>
</section>
<!-- End About Section -->

<!-- ======= Features Section ======= -->
<section id="features" class="features">
  <div class="container" data-aos="fade-up">
    <header class="section-header">
      <h2>Features</h2>
      <p>What makes our website unique?</p>
    </header>

    <div class="row">
      <div class="col-lg-6">
        <img
          src="{{ url_for('static',filename='img/features.png') }}"
          class="img-fluid"
          alt=""
        />
      </div>

      <div class="col-lg-6 mt-5 mt-lg-0 d-flex">
        <div class="row align-self-center gy-4">
          <div class="col-md-6" data-aos="zoom-out" data-aos-delay="200">
            <div class="feature-box d-flex align-items-center">
              <i class="bi bi-check"></i>
              <h3>Faster analysis</h3>
            </div>
          </div>

          <div class="col-md-6" data-aos="zoom-out" data-aos-delay="300">
            <div class="feature-box d-flex align-items-center">
              <i class="bi bi-check"></i>
              <h3>Easy to use</h3>
            </div>
          </div>

          <div class="col-md-6" data-aos="zoom-out" data-aos-delay="400">
            <div class="feature-box d-flex align-items-center">
              <i class="bi bi-check"></i>
              <h3>Personalized meal plans</h3>
            </div>
          </div>

          <div class="col-md-6" data-aos="zoom-out" data-aos-delay="500">
            <div class="feature-box d-flex align-items-center">
              <i class="bi bi-check"></i>
              <h3>Health tips</h3>
            </div>
          </div>

          <div class="col-md-6" data-aos="zoom-out" data-aos-delay="600">
            <div class="feature-box d-flex align-items-center">
              <i class="bi bi-check"></i>
              <h3>Easy to share</h3>
            </div>
          </div>

          <div class="col-md-6" data-aos="zoom-out" data-aos-delay="700">
            <div class="feature-box d-flex align-items-center">
              <i class="bi bi-check"></i>
              <h3>Accurate results</h3>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- / row -->
  </div>
</section>
<!-- End Features Section -->

<!-- ======= Team Section ======= -->
<section id="team" class="team">
  <div class="container" data-aos="fade-up">
    <header class="section-header">
      <p>Spcialist Doctors all over India</p>
    </header>

    <div class="row gy-4">
      <div
        class="col-lg-4 col-md-6 d-flex align-items-stretch"
        data-aos="fade-up"
        data-aos-delay="100"
      >
        <div class="member">
          <div class="member-img">
            <img
              src="{{ url_for('static',filename='img/team/doc-2.jpg') }}"
              class="img-fluid"
              alt=""
            />
            <div class="social">
              <a href=""><i class="bi bi-twitter"></i></a>
              <a href=""><i class="bi bi-facebook"></i></a>
              <a href=""><i class="bi bi-instagram"></i></a>
              <a href=""><i class="bi bi-linkedin"></i></a>
              <a href="https://www.lyfboat.com/doctor/1432-sanjay-sachdeva/"
                ><i class="bi bi-telephone"></i
              ></a>
            </div>
          </div>
          <div class="member-info">
            <h4>Dr. Sanjay Sachdeva</h4>
            <span>Otolaryngologist</span>
          </div>
        </div>
      </div>

      <div
        class="col-lg-4 col-md-6 d-flex align-items-stretch"
        data-aos="fade-up"
        data-aos-delay="200"
      >
        <div class="member">
          <div class="member-img">
            <img
              src="{{ url_for('static',filename='img/team/doc-3.jpg') }}"
              class="img-fluid"
              alt=""
            />
            <div class="social">
              <a href=""><i class="bi bi-twitter"></i></a>
              <a href=""><i class="bi bi-facebook"></i></a>
              <a href=""><i class="bi bi-instagram"></i></a>
              <a href=""><i class="bi bi-linkedin"></i></a>
              <a href="https://www.lyfboat.com/doctor/1463-ashish-sabharwal/"
                ><i class="bi bi-telephone"></i
              ></a>
            </div>
          </div>
          <div class="member-info">
            <h4>Dr. Ashish Sabharwal</h4>
            <span>Urologist, Robotic Surgeon</span>
          </div>
        </div>
      </div>

      <div
        class="col-lg-4 col-md-6 d-flex align-items-stretch"
        data-aos="fade-up"
        data-aos-delay="300"
      >
        <div class="member">
          <div class="member-img">
            <img
              src="{{ url_for('static',filename='img/team/doc-4.jpg') }}"
              class="img-fluid"
              alt=""
            />
            <div class="social">
              <a href=""><i class="bi bi-twitter"></i></a>
              <a href=""><i class="bi bi-facebook"></i></a>
              <a href=""><i class="bi bi-instagram"></i></a>
              <a href=""><i class="bi bi-linkedin"></i></a>
              <a href="https://www.lyfboat.com/doctor/1435-surbhi-anand/"
                ><i class="bi bi-telephone"></i
              ></a>
            </div>
          </div>
          <div class="member-info">
            <h4>Dr. Surbhi Anand</h4>
            <span>Dentist </span>
          </div>
        </div>
      </div>
      <div
        class="col-lg-4 col-md-6 d-flex align-items-stretch"
        data-aos="fade-up"
        data-aos-delay="300"
      >
        <div class="member">
          <div class="member-img">
            <img
              src="{{ url_for('static',filename='img/team/doc-5.jpg') }}"
              class="img-fluid"
              alt=""
            />
            <div class="social">
              <a href=""><i class="bi bi-twitter"></i></a>
              <a href=""><i class="bi bi-facebook"></i></a>
              <a href=""><i class="bi bi-instagram"></i></a>
              <a href=""><i class="bi bi-linkedin"></i></a>
              <a href="https://www.lyfboat.com/doctor/gagan-gautam/"
                ><i class="bi bi-telephone"></i
              ></a>
            </div>
          </div>
          <div class="member-info">
            <h4>Dr. Gagan Gautam</h4>
            <span>Uro - Oncologist </span>
          </div>
        </div>
      </div>
      <div
        class="col-lg-4 col-md-6 d-flex align-items-stretch"
        data-aos="fade-up"
        data-aos-delay="300"
      >
        <div class="member">
          <div class="member-img">
            <img
              src="{{ url_for('static',filename='img/team/doc-6.jpg') }}"
              class="img-fluid"
              alt=""
            />
            <div class="social">
              <a href=""><i class="bi bi-twitter"></i></a>
              <a href=""><i class="bi bi-facebook"></i></a>
              <a href=""><i class="bi bi-instagram"></i></a>
              <a href=""><i class="bi bi-linkedin"></i></a>
              <a href="https://www.lyfboat.com/doctor/1445-aditya-gupta/"
                ><i class="bi bi-telephone"></i
              ></a>
            </div>
          </div>
          <div class="member-info">
            <h4>Dr. Aditya Gupta</h4>
            <span>Neurosurgeon </span>
          </div>
        </div>
      </div>
      <div
        class="col-lg-4 col-md-6 d-flex align-items-stretch"
        data-aos="fade-up"
        data-aos-delay="300"
      >
        <div class="member">
          <div class="member-img">
            <img
              src="{{ url_for('static',filename='img/team/doc-7.jpg') }}"
              class="img-fluid"
              alt=""
            />
            <div class="social">
              <a href=""><i class="bi bi-twitter"></i></a>
              <a href=""><i class="bi bi-facebook"></i></a>
              <a href=""><i class="bi bi-instagram"></i></a>
              <a href=""><i class="bi bi-linkedin"></i></a>
              <a href="https://www.lyfboat.com/doctor/1456-sandeep-batra/"
                ><i class="bi bi-telephone"></i
              ></a>
            </div>
          </div>
          <div class="member-info">
            <h4>Dr. Sandeep Batra</h4>
            <span>Oncologist </span>
          </div>
        </div>
      </div>
      <div
        class="col-lg-4 col-md-6 d-flex align-items-stretch"
        data-aos="fade-up"
        data-aos-delay="300"
      >
        <div class="member">
          <div class="member-img">
            <img
              src="{{ url_for('static',filename='img/team/doc-8.jpg') }}"
              class="img-fluid"
              alt=""
            />
            <div class="social">
              <a href=""><i class="bi bi-twitter"></i></a>
              <a href=""><i class="bi bi-facebook"></i></a>
              <a href=""><i class="bi bi-instagram"></i></a>
              <a href=""><i class="bi bi-linkedin"></i></a>
              <a href="https://www.lyfboat.com/doctor/1436-sks-marya/"
                ><i class="bi bi-telephone"></i
              ></a>
            </div>
          </div>
          <div class="member-info">
            <h4>Dr. SKS Marya</h4>
            <span>Orthopaedic Surgeon </span>
          </div>
        </div>
      </div>
      <div
        class="col-lg-4 col-md-6 d-flex align-items-stretch"
        data-aos="fade-up"
        data-aos-delay="300"
      >
        <div class="member">
          <div class="member-img">
            <img
              src="{{ url_for('static',filename='img/team/doc-9.jpg') }}"
              class="img-fluid"
              alt=""
            />
            <div class="social">
              <a href=""><i class="bi bi-twitter"></i></a>
              <a href=""><i class="bi bi-facebook"></i></a>
              <a href=""><i class="bi bi-instagram"></i></a>
              <a href=""><i class="bi bi-linkedin"></i></a>
              <a href="https://www.lyfboat.com/doctor/1441-gaurav-kharya/"
                ><i class="bi bi-telephone"></i
              ></a>
            </div>
          </div>
          <div class="member-info">
            <h4>Dr. Gaurav Kharya</h4>
            <span>Pediatric Haemato-Oncologist </span>
          </div>
        </div>
      </div>
      <div
        class="col-lg-4 col-md-6 d-flex align-items-stretch"
        data-aos="fade-up"
        data-aos-delay="300"
      >
        <div class="member">
          <div class="member-img">
            <img
              src="{{ url_for('static',filename='img/team/doc-10.jpg') }}"
              class="img-fluid"
              alt=""
            />
            <div class="social">
              <a href=""><i class="bi bi-twitter"></i></a>
              <a href=""><i class="bi bi-facebook"></i></a>
              <a href=""><i class="bi bi-instagram"></i></a>
              <a href=""><i class="bi bi-linkedin"></i></a>
              <a href="https://www.lyfboat.com/doctor/1457-ankur-bahl/"
                ><i class="bi bi-telephone"></i
              ></a>
            </div>
          </div>
          <div class="member-info">
            <h4>Dr. Ankur Bahl</h4>
            <span>Medical Oncologist </span>
          </div>
        </div>
      </div>
      <div
        class="col-lg-4 col-md-6 d-flex align-items-stretch"
        data-aos="fade-up"
        data-aos-delay="300"
      >
        <div class="member">
          <div class="member-img">
            <img
              src="{{ url_for('static',filename='img/team/doc-11.jpg') }}"
              class="img-fluid"
              alt=""
            />
            <div class="social">
              <a href=""><i class="bi bi-twitter"></i></a>
              <a href=""><i class="bi bi-facebook"></i></a>
              <a href=""><i class="bi bi-instagram"></i></a>
              <a href=""><i class="bi bi-linkedin"></i></a>
              <a
                href="https://www.lyfboat.com/doctor/1434-amandeep-singh-dhillon/"
                ><i class="bi bi-telephone"></i
              ></a>
            </div>
          </div>
          <div class="member-info">
            <h4>Dr. Amandeep Singh Dhillon</h4>
            <span>Dentist </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- End Team Section -->

<!--Chatbot stuff-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<link
  href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"
  rel="stylesheet"
  integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1"
  crossorigin="anonymous"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css"
/>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
/>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
/>

<link
  rel="stylesheet"
  type="text/css"
  href="{{ url_for('static',filename='jquery.mCustomScrollbar.min.css') }}"
/>
<script src="{{ url_for('static',filename='jquery.mCustomScrollbar.concat.min.js') }}"></script>

<link
  rel="stylesheet"
  type="text/css"
  href="{{ url_for('static',filename='chatBotStyle1.css') }}"
/>
<link
  rel="stylesheet"
  type="text/css"
  href="{{ url_for('static',filename='chatBotStyle.css') }}"
/>

<div id="chat-bot" onclick="showDiv();">
  <div class="icon">
    <div class="user">
      <i class="fas"></i> Arogya Sathi: Disease Prediction and Hospital
      Recommendation System
    </div>
    <i class="bi bi-chat"></i>
  </div>
</div>

<div id="chatBox" style="display: none">
  <section id="avenue-messenger" class="avenue-messenger">
    <div class="menu"></div>
    <div class="agent-face">
      <img
        class="agent circle"
        src="https://cliply.co/wp-content/uploads/2019/05/371905140_MEET_ROBOT_400px.gif"
        alt="Chatbot"
        style="margin-top: 70px"
      />
    </div>
    <div class="chat">
      <div class="chat-title">
        <h1>Arogya Sathi</h1>

        <!--  <figure class="avatar">
                      <img src="http://askavenue.com/img/17.jpg" /></figure>-->
      </div>
      <div class="messages">
        <div class="messages-content"></div>
      </div>
      <div class="message-box">
        <textarea
          type="text"
          id="result"
          class="message-input"
          placeholder="Type message..."
        ></textarea>

        <i
          class="fa fa-microphone"
          id="start-record-btn"
          aria-hidden="true"
        ></i>
        <button type="submit" class="message-submit">Send</button>
      </div>
    </div>
  </section>
</div>

<script>
  function showDiv() {
    var x = document.getElementById("chatBox"); //so we dont have to write doc.get multiple times
    if (x.style.display === "none") {
      //check if hidden
      x.style.display = "block"; //display it
    } else {
      x.style.display = "none"; //hide it
    }
  }

  var $messages = $(".messages-content"),
    d,
    h,
    m,
    i = 0;

  $(window).load(function () {
    $messages.mCustomScrollbar();
    setTimeout(function () {
      fakeMessage();
    }, 500);
  });

  function updateScrollbar() {
    $messages
      .mCustomScrollbar("update")
      .mCustomScrollbar("scrollTo", "bottom", {
        scrollInertia: 10,
        timeout: 0,
      });
  }

  function setDate() {
    d = new Date();
    if (m != d.getMinutes()) {
      m = d.getMinutes();
      $('<div class="timestamp">' + d.getHours() + ":" + m + "</div>").appendTo(
        $(".message:last")
      );
      $('<div class="checkmark-sent-delivered">&check;</div>').appendTo(
        $(".message:last")
      );
      $('<div class="checkmark-read">&check;</div>').appendTo(
        $(".message:last")
      );
    }
  }

  function insertMessage() {
    msg = $(".message-input").val();
    if ($.trim(msg) == "") {
      return false;
    }
    $('<div class="message message-personal">' + msg + "</div>")
      .appendTo($(".mCSB_container"))
      .addClass("new");
    setDate();
    $(".message-input").val(null);
    updateScrollbar();
    setTimeout(function () {
      fakeMessage(msg);
    }, 500 + Math.random() * 20 * 100);
  }

  $(".message-submit").click(function () {
    insertMessage();
  });

  $(window).on("keydown", function (e) {
    if (e.which == 13) {
      insertMessage();
      return false;
    }
  });

  var Fake = [
    "Hi there, I'm Jesse and you?",
    "Nice to meet you",
    "How are you?",
    "Not too bad, thanks",
    "What do you do?",
    "That's awesome",
    "Codepen is a nice place to stay",
    "I think you're a nice person",
    "Why do you think that?",
    "Can you explain?",
    "Anyway I've gotta go now",
    "It was a pleasure chat with you",
    "Time to make a new codepen",
    "Bye",
    ":)",
  ];

  function fakeMessage(msg) {
    if ($(".message-input").val() != "") {
      return false;
    }
    $(
      '<div class="message loading new"><figure class="avatar"><img src="static/chatbot_icon.png" /></figure><span></span></div>'
    ).appendTo($(".mCSB_container"));
    updateScrollbar();

    setTimeout(function () {
      $.ajax({
        type: "POST",
        url: "/ask?message=" + msg + "&sessionId={{sessionId}}",
        data: $(this).serialize(),
        success: function (response) {
          console.log(response);
          $(".message.loading").remove();
          for (var i = 0; i <= response.answer.length - 1; i++) {
            console.log(response.answer[i]);
            $(
              '<div class="message new"><figure class="avatar"><img src="static/chatbot_icon.png" /></figure>' +
                response.answer[i] +
                "</div>"
            )
              .appendTo($(".mCSB_container"))
              .addClass("new");
          }
          setDate();
          updateScrollbar();
          i++;
        },
        error: function (error) {
          console.log(error);
        },
      });
    }, 10 + Math.random() * 20 * 100);
  }

  $(".button").click(function () {
    $(".menu .items span").toggleClass("active");
    $(".menu .button").toggleClass("active");
  });

  const chat_btn = $("#chat-bot .icon");
  const chat_box = $("#chat-bot .messenger");

  chat_btn.click(() => {
    chat_btn.toggleClass("expanded");
    setTimeout(() => {
      chat_box.toggleClass("expanded");
    }, 100);
  });

  const startRecordBtn = document.getElementById("start-record-btn");
  const resultTextarea = document.getElementById("result");

  startRecordBtn.addEventListener("click", () => {
    const recognition = new webkitSpeechRecognition();
    recognition.lang = "en-US";
    recognition.start();

    recognition.onresult = function (event) {
      const transcript = event.results[0][0].transcript;
      resultTextarea.value = transcript;
    };
  });

  document.querySelector(".message-submit").addEventListener("click", () => {
    const query = resultTextarea.value.trim();
    if (query !== "") {
      sendVoiceData(query);
    }
  });

  function sendVoiceData(query) {
    fetch("/search", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({ query: query }),
    })
      .then((response) => response.json())
      .then((data) => {
        console.log(data);
        // Handle search results
      })
      .catch((error) => {
        console.error("Error:", error);
      });
  }
</script>

{% endblock main %}
